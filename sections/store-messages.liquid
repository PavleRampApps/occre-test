{% if section.settings.head_not_home_only == false or template == 'index' %}
  <div id="store-messages" class="messages-{{ section.blocks.size }}" data-cc-animate>
    <div class="container cf">
      {% render 'store-messages', mobile_messages: false %}
    </div>
  </div><!-- /#store-messages -->

  {% if section.settings.head_not_mob_show %}
  <div id="store-messages-mobile">
    <div class="messages-{{ section.blocks.size }}">
      <div class="container">
        {% if section.settings.same_as_desktop %}
          {% assign mobile_messages = true %}
          {% render 'store-messages', mobile_messages: mobile_messages %}
        {% else %}
          {%- if section.settings.head_not_mob_url != blank -%}
            <a href="{{ section.settings.head_not_mob_url }}">
          {%- endif -%}
          <span>{{ section.settings.head_not_mob_text | escape }}</span>
          {%- if section.settings.head_not_mob_url != blank -%}
            </a>
          {%- endif -%}
        {% endif %}
      </div>
    </div>
  </div>
  {% endif %}
{% endif %}

{% schema %}
  {
    "name": "Store messages",
    "class": "section-store-messages",
    "max_blocks": 3,
    "settings": [
      {
        "type": "header",
        "content": "Store messages"
      },
      {
        "type": "paragraph",
        "content": "These are displayed under the main menu - great for promotions and notices"
      },
      {
        "type": "checkbox",
        "id": "head_not_home_only",
        "label": "Show only on home page",
        "default": false
      },
      {
        "type": "header",
        "content": "Mobile store message"
      },
      {
        "type": "checkbox",
        "id": "head_not_mob_show",
        "label": "Enable",
        "default": false
      },
      {
        "type": "checkbox",
        "id": "same_as_desktop",
        "label": "Same store messages as on desktop",
        "default": true,
        "info": "Mobile devices will include the same store messages as desktop devices"
      },
      {
        "type": "text",
        "id": "head_not_mob_text",
        "label": "Text",
        "default": "Add important information here"
      },
      {
        "type": "url",
        "id": "head_not_mob_url",
        "label": "Link URL"
      }
    ],
    "blocks": [
      {
        "type": "message",
        "name": "Store message",
        "settings": [
          {
            "type": "text",
            "id": "heading",
            "label": "Heading",
            "default": "Store message"
          },
          {
            "type": "text",
            "id": "subheading",
            "label": "Subheading",
            "default": "Add important information here"
          },
          {
            "type": "url",
            "id": "link_url",
            "label": "Link URL"
          }
        ]
      }
    ]
  }
{% endschema %}
