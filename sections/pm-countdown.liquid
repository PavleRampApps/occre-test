<div class="countdown_wrap">
  <div class="countdown_time" id="js_set_time">
    <div class="timer-block">
      <span class="countdown_number js-days">00</span>
      <span class="countdown_title">
        {%- if request.locale.iso_code == 'es' %}
          DÃ­as
        {%- else %}
          Dias
        {% endif -%}
      </span>
    </div>
    <div class="timer-dots">
      <span>:</span>
    </div>
    <div class="timer-block">
      <span class="countdown_number js-hours">00</span>
      <span class="countdown_title">Horas</span>
    </div>
    <div class="timer-dots">
      <span>:</span>
    </div>
    <div class="timer-block">
      <span class="countdown_number js-minutes">00</span>
      <span class="countdown_title">Minutos</span>
    </div>
    <div class="timer-dots">
      <span>:</span>
    </div>
    <div class="timer-block">
      <span class="countdown_number js-seconds">00</span>
      <span class="countdown_title">Segundos</span>
    </div>
  </div>
</div>

<script type="text/javascript">
  var settime = "{{section.settings.datetime_value}} GMT";
  (function (){
    if(settime.length  > 0 ){
      var countDownDate = new Date(settime).getTime();
      var x = setInterval(function() {
        // Get todays date and time
        var now = new Date().getTime();
        // Find the distance between now an the count down date
        var distance = countDownDate - now;
        // Time calculations for days, hours, minutes and seconds
        var days = Math.floor(distance / (1000 * 60 * 60 * 24));
        if(days < 10 )
        {
          var days = '0' + days;
        }else{
          days = days;
        }
        var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        if(hours  < 10 )
        {
          var hours = '0' + hours;
        }else{
          hours = hours;
        }
        var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
        if(minutes  < 10 )
        {
          var minutes = '0' + minutes;
        }else{
          minutes = minutes;
        }
        var seconds = Math.floor((distance % (1000 * 60)) / 1000);
        document.querySelector('.js-days').innerText = days;
        document.querySelector('.js-hours').innerText = hours;
        document.querySelector('.js-minutes').innerText = minutes;
        document.querySelector('.js-seconds').innerText = seconds;
        if (distance < 0) {
          clearInterval(x);
          document.getElementById("js_set_time").innerHTML = "Out of date";
        }
      }, 1000);
    }
  })();
</script>
<style>
    .countdown_time{

      background-color: #363636;
      padding: 40px;
      display: flex;
      flex-wrap: wrap;
      max-width:800px;
      margin:0 auto;
      border-radius: 10px;

    }

    .countdown_time .timer-block{
      width: calc(25% - 5px);
    }
    .countdown_time .timer-block span{
      display: block;
      text-align: center;
      font-family: Arial;
      font-size: 70px;
      font-weight: 400;
      line-height: 50px;
      letter-spacing: 0em;
      text-align: center;
      color: #E5DAC7;
    }

    .timer-dots{
      display: block;
      text-align: center;
      font-family: Arial;
      width:5px;
      font-size: 24px;
      font-weight: 400;
      line-height: 50px;
      letter-spacing: 0em;
      text-align: center;
      color: #E5DAC7;
    }
    .countdown_number {
      display: block;
      margin: 0 auto;
      width: 80px;
      margin-bottom: 10px;
    }
     .countdown_time .timer-block .countdown_title {

      font-family: Arial;
      font-size: 16px;
      font-weight: 700;
      line-height: 23px;
      letter-spacing: 0em;
      text-align: center;
      color: #E5DAC7;

    }

     @media (max-width:768px) {
      .countdown_time{
        padding: 30px;
        margin:0 24px 0 24px;

    }
  }
    @media (max-width:625px) {

       .countdown_time{
        padding: 10px;
    }

      .countdown_time .timer-block span {
        font-size: 32px;
      }

      .countdown_time .timer-block .countdown_title{
        font-size: 15px;
      }

      .countdown_number {


      width: auto;
      margin-bottom: 0px;
    }
    }
  @media (max-width:375px) {
    .countdown_time .timer-block .countdown_title{
        font-size: 10px;
      }
  }
</style>

{% schema %}
{
  "name": "Pm Count Down",
   "settings": [
     {
       "type": "text",
      "id": "datetime_value",
      "label": "Date and Time (YYYY/MM/DD HH:MM:SS)",
      "info" : "GMT Time"
     }
            ],
    "presets": [
      {
        "name": "Pm Count Down"

      }
    ]

}
{% endschema %}
